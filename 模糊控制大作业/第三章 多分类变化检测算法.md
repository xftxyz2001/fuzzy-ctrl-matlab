---
output:
    word_document
---


# 第三章 多分类变化检测算法

## 3.1 引言
快速影像变化检测系统中包含两种检测模式都用到了FCM聚类法。其中第二种“多分类变化检测模式”算法，不仅需要使用FCM算法识别图像中的变化部分，还需要检测其中的多种类型的变化。

如1.4节所述，检测多种类型的变化就是区分出变化类C中的k个子变化类$\{C_1, C_2, ..., C_k\}$，其中$k \ge 2$。本文使用的算法研究$k = 3$时的情况，即具体研究一个四分类问题，讨论如何解决将差异图像中的像素点聚类成未变化类U以及$C_1, C_2, C_3$，最后再进行结果图像的生成。


## 3.2 CVA 模型
在处理多光谱图像的多分类问题时，变化向量（Change vector analysis, CVA）模型是最常用的技术之一，其主要思想是特征空间的变换。具体而言，CVA模型将原始特征空间中多光谱带所携带的信息转化到极坐标中去处理分析$^{[21]}$。
考虑在同一地理区域内两个时间点$t_1$和$t_2$，获取的尺寸为$W \times H$、具有B个光谱带的图像$I_1$与$I_2$。记$I_{b,t}$为图像$I_t$(t = 1或2)的第$b(b =1, 2, ..., B)$个分量的图像。两者进行差异运算后会得到谱带数也为B的差异图像$I_X$，需要注意差异运算的前后顺序决定差异图像$I_X$的值。此处规定差异运算的前项为$I_2$，后项为$I_1$（例如使用差值算子运算，此时运算$I_X = I_2 - I_1$与二分类中的带绝对值符号的$I_X = |I_2 - I_1|$运算有所区别）。得到的差异图像$I_X$一般会被压缩至二维空间，这样由于数据复杂度低更利于聚类且二维空间便于可视化。通常利用$I_X$中两个选定的谱带分量$I_{m,X}$和$I_{n,X}$作为直角坐标系分量，再转化成幅值$\rho$和相角$\varphi$构建极坐标系，如式(3-1)所示。

$$
\left\{\begin{matrix}
 \rho = \sqrt[]{I_{m,X}^{2} + I_{n,X}^{2}} \\
 \varphi = \arcsin (\frac{I_{m,X}}{I_{n,X}})
\end{matrix}\right.
$$

显然，两者取值范围为$\rho \ge 0$且$0 \le \varphi \le 2\pi$。因此CVA模型的示意图可以观表示为图3.1。
![](图3.1(a).png)
![](图3.1(b).png)

图3.1 CVA模型思想示意图。(a)根据幅值$\rho$区分变化类C和未变化类U；(b)根据相角$\varphi$区分各种类型的变化$\{C_1, C_2, ..., C_k\}$。

如上图3.1所示，CVA的基本思想两步骤如下。
1) 首先可以根据极坐标中的幅值$\rho$区分变化类和未变化类。从文献$^{[21]}$可知，幅值$\rho$携带有关变化存在/不存在的信息。变化的像素显示相对较高的值，而未变化的像素则显示相对较低的值。显然同心圆中的内圈部分代表未变化类，外圈部分代表发生变化的类。
2) 接着根据相角$\varphi$的值从变化类C中细分出各个子类$\{C_1, C_2, ..., C_k\}$，本文中将变化的像素点分为3种类型的变化。

虽然利用B个分量中的2个来表示二维空间便于简单、直观的可视化显示，但是两个谱带分量的选取方法需要一定的先验信息，不能保证降低维度后结果的准确性。更重要的是，其余的谱带上也可能具有很多信息，这样转化可能会损失大量原始的B维空间中的可用信息。因此可以考虑对所有的B个谱带两两之间都进行一次上述操作，但是共计$C_{B}^{2}$次分析过程，复杂度大大提升。


## 3.3 $C^2VA$模型
为了高效保留$I_X$，特征空间中存在的大部分可用信息，Bovolo等人提出了$C^2VA$模型$^{[15]}$。该模型不仅能够将B维特征空间映射为2维特征空间，而且也不需要任何关于具体变化检测案例的先验信息。$C^2VA$模型有两个重要特征如下1) 光谱变化向量的幅值$\rho$：代表是否变化的信息；2) 方向向量$\alpha$：利用所有光谱通道对多种类型的变化信息建模。这两个特征定义了一个低维特征空间，在其中可以直观表示且高效地提取变换的相关信息。

### 3.3.1 幅值$\rho$
首先看差异图像$I_X$，中多维光谱变化向量的幅值$\rho$，定义如公式(3-2)所示。

$$
\rho=\sqrt{\sum_{b=1}^{B} I_{b, X}^{2}}, \quad \rho \in\left[0, \rho_{\max }\right]
$$

其中$\rho_{max}$理论上可以趋于无穷大，但是在实际应用中受到数据的限制。同样携带着有价值的信息，对$\rho$使用阈值方法或者聚类方法即可初步区分变化和未变化像素。
